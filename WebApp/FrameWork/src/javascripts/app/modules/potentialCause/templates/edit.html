<div class="page-area">

  <div class="page-header">
    <h1 translate="POTENTIAL_CAUSE.EDIT_HEADING"></h1>
  </div>

  <form class="form-horizontal" name="vm.formEdit" ng-submit="vm.save()">
    <div class="panel panel-default">
      <div class="panel-body">
        <div class="form-group" ng-class="{'has-error': (vm.formEdit.description.$invalid && vm.formEdit.description.$dirty)}">
          <label class="col-sm-2 control-label req" translate="GENERAL.POTENTIAL_CAUSE"></label>
          <div class="col-sm-10">
            <input type="text" class="form-control" name="description" 
                    placeholder="{{'GENERAL.POTENTIAL_CAUSE' | translate}}" 
                    ng-model="vm.potentialCauseModel.description" required>
            <div class="input-errors" ng-show="vm.formEdit.description.$invalid && vm.formEdit.description.$dirty">
              <span ng-show="vm.formEdit.description.$error.required" translate="VALIDATION.REQUIRED"></span>
            </div>
          </div>
        </div>

        <div class="form-group" ng-class="{'has-error': (vm.formEdit.symptomId.$invalid && vm.formEdit.symptomId.$dirty)}">
          <label class="col-sm-2 control-label req" translate="GENERAL.SYMPTOM"></label>
          <div class="col-sm-10">
            <input type="hidden" ng-model="vm.potentialCauseModel.symptom.id" required>
            <select kendo-drop-down-list="vm.symptomInstance" class="form-control"
                    name="symptomId"
                    k-options="vm.symptomOptions"
                    k-ng-model="vm.potentialCauseModel.symptom"
                    required>
            </select>
            <div class="input-errors" ng-show="vm.formEdit.symptomId.$invalid && vm.formEdit.symptomId.$dirty">
              <span ng-show="vm.formEdit.symptomId.$error.required" translate="VALIDATION.REQUIRED"></span>
            </div>
          </div>
        </div>

        <div class="form-group" ng-class="{'has-error': (vm.formEdit.issueId.$invalid && vm.formEdit.issueId.$dirty)}">
          <label class="col-sm-2 control-label req" translate="GENERAL.ISSUE"></label>
          <div class="col-sm-10">
            <select kendo-drop-down-list class="form-control"
                    name="issueId"
                    k-ng-model="vm.potentialCauseModel.issueId"
                    ng-model="vm.issueIdtmp"
                    k-data-text-field="'title'" 
                    k-data-value-field="'id'"
                    k-data-source="vm.issueList"
                    k-option-label="'- Select Issue -'"
                    k-filter="'contains'"
                    k-value-primitive="true"
                    k-auto-bind="true"
                    k-options="vm.issueOptions"
                    ng-blur="vm.issueIdtmp = vm.potentialCauseModel.issueId"
                    required>
            </select>
            <div class="input-errors" ng-show="vm.formEdit.issueId.$invalid && vm.formEdit.issueId.$dirty">
              <span ng-show="vm.formEdit.issueId.$error.required" translate="VALIDATION.REQUIRED"></span>
            </div>
          </div>
        </div>
      </div>

      <div class="panel-footer">
        <div class="row">
          <div class="col-sm-6">
            <a ui-sref="app.potentialCause" class="btn btn-default">
              <i class="fa fa-chevron-left" aria-hidden="true"></i>
              <span translate="GENERAL.BACK"></span>
            </a>
          </div>

          <div class="col-sm-6 text-right">
            <button type="submit" class="btn btn-success" ng-disabled="vm.formEdit.$invalid">
              <i class="fa fa-floppy-o" aria-hidden="true"></i>
              <span translate="GENERAL.SAVE"></span>
            </button>
          </div>
        </div>
      </div>

    </div>
  </form>

</div>
