<div class="change-password-page">

    <div class="page-header">
        <h1 translate="CHANGE_PASSWORD.HEADING"></h1>
    </div>

    <form name="vm.frm" ng-submit="vm.changePassword(vm.frm)" novalidate="" class="form-horizontal">
        <div class="panel panel-default">
            <div class="panel-body">
                <div class="form-group" ng-class="{'has-error': !vm.frm.oldPassword.$valid && vm.frm.oldPassword.$dirty}">
                    <label class="col-sm-2 control-label" translate="CHANGE_PASSWORD.CURRENT_PW"></label>
                    <div class="col-sm-10">
                        <input type="password" class="form-control" placeholder="Current Password" ng-model="vm.user.oldPassword" name="oldPassword" required>
                        <div class="minH_A">
                            <span class="help-block" ng-show="vm.frm.oldPassword.$dirty && vm.frm.oldPassword.$error.required" translate="CHANGE_PASSWORD.PLEASE_ENTER_CURRENT_PW"></span>
                        </div>
                    </div>
                </div>

                <div class="form-group" ng-class="{'has-error': !vm.frm.newPassword.$valid && vm.frm.newPassword.$dirty}">
                    <label class="col-sm-2 control-label" translate="CHANGE_PASSWORD.NEW_PW"></label>
                    <div class="col-sm-10">
                        <input type="password" class="form-control" placeholder="New Password" ng-model="vm.user.newPassword" name="newPassword" required ng-minlength="6" />
                        <div class="minH_A">
                            <span class="help-block" ng-show="vm.frm.newPassword.$dirty && vm.frm.newPassword.$error.required" translate="CHANGE_PASSWORD.PLEASE_ENTER_NEW_PW"></span>
                            <span class="help-block" ng-show="vm.frm.newPassword.$dirty && vm.frm.newPassword.$error.minlength" translate="CHANGE_PASSWORD.PW_REQ"></span>
                        </div>
                    </div>
                </div>

                <div class="form-group" ng-class="{'has-error': !vm.frm.confirmPassword.$valid && vm.frm.confirmPassword.$dirty}">
                    <label class="col-sm-2 control-label" translate="CHANGE_PASSWORD.CONFIRM_PW"></label>
                    <div class="col-sm-10">
                        <input type="password" class="form-control" placeholder="Confirm Password" ng-model="vm.user.confirmPassword" ng-match="vm.user.newPassword" name="confirmPassword" />
                        <div class="minH_A">
                            <span class="help-block" ng-show="vm.frm.confirmPassword.$dirty && vm.frm.confirmPassword.$error.ngMatch" translate="CHANGE_PASSWORD.PW_MISMATCH"></span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="panel-footer">
                <div class="row">
                    <div class="col-sm-12 text-right">
                        <button type="submit" class="btn btn-success" ng-disabled="vm.frm.$invalid || vm.frm.$submitted || vm.frm.$pending">
                            <i class="fa fa-floppy-o"></i> 
                            <span translate="CHANGE_PASSWORD.SAVE_PW"></span>
                        </button>
                    </div>
                </div>
            </div>

        </div>
    </form>
</div>
